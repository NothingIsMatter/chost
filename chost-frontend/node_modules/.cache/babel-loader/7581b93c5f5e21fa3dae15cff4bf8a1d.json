{"remainingRequest":"/home/alexander/chost-project/chost-frontend/node_modules/babel-loader/lib/index.js!/home/alexander/chost-project/chost-frontend/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/home/alexander/chost-project/chost-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/alexander/chost-project/chost-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alexander/chost-project/chost-frontend/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alexander/chost-project/chost-frontend/src/App.vue","mtime":1580559203790},{"path":"/home/alexander/chost-project/chost-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alexander/chost-project/chost-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/alexander/chost-project/chost-frontend/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/alexander/chost-project/chost-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alexander/chost-project/chost-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZXZlbnRCdXMgfSBmcm9tICIuL21haW4iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRva2VuOiAnJywKICAgICAgYXV0aDogZmFsc2UsCiAgICAgIHVzZXI6IHt9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ0b2tlbiIpOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlciIpOwogICAgICB0aGlzLnVzZXIgPSB7fTsKICAgICAgdGhpcy5hdXRoID0gZmFsc2U7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvYXV0aCIpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgZXZlbnRCdXMuJG9uKCdsb3V0JywgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5sb2dvdXQoKTsKICAgIH0pOwoKICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSAhPSBudWxsKSB7CiAgICAgIHRoaXMuJGh0dHAuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjkwMDAvdXNlci9tZScsIHsKICAgICAgICBwYXJhbXM6IHt9LAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICByZXR1cm4gcmVzcC5qc29uKCkudGhlbihmdW5jdGlvbiAocmVxKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMudXNlciA9IHJlcSwgX3RoaXMuYXV0aCA9IHRydWUsIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkocmVxKSk7CiAgICAgICAgfSk7CiAgICAgIH0sIGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgcmV0dXJuIHJlc3AuanNvbigpLnRoZW4oZnVuY3Rpb24gKHJlcSkgewogICAgICAgICAgcmV0dXJuIGV2ZW50QnVzLiRlbWl0KCdsb3V0JywgcmVxLmVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAiBA,SAAA,QAAA,QAAA,QAAA;AAEA,eAAA;AAEA,EAAA,IAAA,EAAA,KAFA;AAGA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,KAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KAAA;AAKA,GATA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,EAAA,kBAAA;AACA,MAAA,YAAA,CAAA,UAAA,CAAA,OAAA;AACA,MAAA,YAAA,CAAA,UAAA,CAAA,MAAA;AACA,WAAA,IAAA,GAAA,EAAA;AACA,WAAA,IAAA,GAAA,KAAA;AAEA,WAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA;AARA,GAVA;AAoBA,EAAA,OAAA,EAAA,mBAAA;AAAA;;AACA,IAAA,QAAA,CAAA,GAAA,CAAA,MAAA,EAAA,YAAA;AACA,MAAA,KAAA,CAAA,MAAA;AACA,KAFA;;AAGA,QAAA,YAAA,CAAA,OAAA,CAAA,OAAA,KAAA,IAAA,EAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,+BAAA,EAAA;AACA,QAAA,MAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA;AAAA,2BAAA,YAAA,YAAA,CAAA,OAAA,CAAA,OAAA;AAAA;AAFA,OAAA,EAGA,IAHA,CAGA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,IAAA,GAAA,IAAA,CAAA,UAAA,GAAA;AAAA,iBAAA,KAAA,CAAA,IAAA,GAAA,GAAA,EAAA,KAAA,CAAA,IAAA,GAAA,IAAA,EAAA,YAAA,CAAA,OAAA,CAAA,MAAA,EAAA,IAAA,CAAA,SAAA,CAAA,GAAA,CAAA,CAAA;AAAA,SAAA,CAAA;AAAA,OAHA,EAIA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,IAAA,GAAA,IAAA,CAAA,UAAA,GAAA;AAAA,iBAAA,QAAA,CAAA,KAAA,CAAA,MAAA,EAAA,GAAA,CAAA,KAAA,CAAA;AAAA,SAAA,CAAA;AAAA,OAJA;AAKA;AAEA;AAhCA,CAAA","sourcesContent":["<template>\n  <v-app>\n  <v-toolbar dense color=\"deep-orange lighten-3\"  >\n    <v-toolbar-title><v-btn text to=\"/\"> <v-icon>face</v-icon> Chost</v-btn></v-toolbar-title>\n    <v-spacer></v-spacer>\n      <v-btn  v-if=\"auth\" to=\"/home\" color=\"primary\">{{ user.login }}</v-btn>\n      <v-btn  v-if=\"auth\" @click=\"logout\" color=\"error\">Logout</v-btn>\n      <v-btn  v-else to=\"/auth\" prepend-icon=\"contact_mail\" color=\"primary\">Auth</v-btn>\n  </v-toolbar>\n    <v-content>\n    <router-view></router-view>\n    </v-content>\n  </v-app>\n</template>\n\n<script>\n\nimport {eventBus} from \"./main\";\n\nexport default {\n\n  name: 'App',\n  data: function () {\n    return {\n      token: '',\n      auth: false,\n      user: {}\n    }\n  },\n  methods: {\n    logout: function () {\n      localStorage.removeItem(\"token\")\n      localStorage.removeItem(\"user\")\n      this.user = {};\n      this.auth = false;\n\n      this.$router.push(\"/auth\")\n    }\n  },\n  mounted: function () {\n    eventBus.$on('lout',()=>{\n      this.logout()\n    });\n    if (localStorage.getItem('token')!=null) {\n      this.$http.get('http://localhost:9000/user/me', {\n        params: {},\n        headers: {'Authorization': 'Bearer ' +localStorage.getItem('token')}\n      }).then(resp => (resp.json().then(req => (this.user = req, this.auth = true, localStorage.setItem('user', JSON.stringify(req))))),\n      resp => (resp.json().then(req => (eventBus.$emit('lout',req.error)))))\n    }\n\n  }\n\n};\n</script>\n"],"sourceRoot":"src"}]}