{"remainingRequest":"/home/alexander/chost-project/chost-frontend/node_modules/babel-loader/lib/index.js!/home/alexander/chost-project/chost-frontend/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/home/alexander/chost-project/chost-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/alexander/chost-project/chost-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alexander/chost-project/chost-frontend/src/components/FileLoadingPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alexander/chost-project/chost-frontend/src/components/FileLoadingPage.vue","mtime":1580559203798},{"path":"/home/alexander/chost-project/chost-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alexander/chost-project/chost-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/alexander/chost-project/chost-frontend/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/alexander/chost-project/chost-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alexander/chost-project/chost-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgovKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovCmltcG9ydCB7IGV2ZW50QnVzIH0gZnJvbSAiLi4vbWFpbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRmlsZUxvYWRpbmdQYWdlIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmFtZTogJycsCiAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgbmFtZVJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gISF2IHx8ICdMb2dpbiBpcyByZXF1aXJlZCc7CiAgICAgIH1dLAogICAgICBmaWxlczogbnVsbCwKICAgICAgaW1nOiBudWxsLAogICAgICB1cmw6IG51bGwsCiAgICAgIHZhbGlkOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKCkgewogICAgICB0aGlzLnVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy5pbWcpOwogICAgfSwKICAgIG9uRmlsZUNoYW5nZTogZnVuY3Rpb24gb25GaWxlQ2hhbmdlKGUpIHsKICAgICAgdmFyIHVybCA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICB0aGlzLnVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwodXJsKTsKICAgICAgYWxlcnQodGhpcy51cmwpOwogICAgfSwKICAgIHNldEltZzogZnVuY3Rpb24gc2V0SW1nKCkgewogICAgICBhbGVydCh0aGlzLmltZyk7CiAgICB9LAogICAgY2xlYXJJbWc6IGZ1bmN0aW9uIGNsZWFySW1nKCkgewogICAgICB0aGlzLnVybCA9IG51bGw7CiAgICB9LAogICAgc2VuZEZvcm06IGZ1bmN0aW9uIHNlbmRGb3JtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CgogICAgICBpZiAodGhpcy5maWxlcykgewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgidGl0bGUiLCB0aGlzLmltZyk7CiAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlOwogICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlOwogICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMuZmlsZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7CiAgICAgICAgICAgIHZhciBmaWxlID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZXMiLCBmaWxlLCBmaWxlLm5hbWUpOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlOwogICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikgewogICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoIm5hbWUiLCB0aGlzLm5hbWUpOwogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZGVzYyIsIHRoaXMuZGVzY3JpcHRpb24pOwogICAgICAgIHRoaXMuJGh0dHAucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo5MDAwL2ZpbGUvdXBsb2FkJywgZm9ybURhdGEsIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJywKICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnU3VjY2VzcyEnKTsKICAgICAgICAgIGNvbnNvbGUubG9nKHsKICAgICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlCiAgICAgICAgICB9KTsKICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBlcnIsIGVyci5qc29uKCkudGhlbihmdW5jdGlvbiAobXNnKSB7CiAgICAgICAgICAgIHJldHVybiBldmVudEJ1cy4kZW1pdCgnbG91dCcsIG1zZy5lcnJvcik7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBwYXRoOiAnL2F1dGgnCiAgICAgICAgICB9KTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygndGhlcmUgYXJlIG5vIGZpbGVzLicpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["FileLoadingPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-app id=\"inspire\">\n        <v-img src=\"https://i.picsum.photos/id/715/1920/900.jpg\">\n            <v-content>\n                <v-container\n                        class=\"fill-height\"\n                        fluid\n                >\n                    <v-row\n                            align=\"center\"\n                            justify=\"center\"\n                    >\n                        <v-col\n                                cols=\"6\"\n                                sm=\"8\"\n                                md=\"4\"\n                        >\n                            <v-card class=\"elevation-12\">\n                                <v-toolbar\n                                        color=\"primary\"\n                                >\n                                    <v-toolbar-title>Uploading a file</v-toolbar-title>\n                                </v-toolbar>\n                                <v-card-text>\n\n                                    <v-alert v-if=\"errorMsg\" type=\"error\">\n                                        {{ errorMsg}}\n                                    </v-alert>\n                                    <v-form v-model=\"valid\">\n                                        <v-text-field\n                                                :rules=\"nameRules\"\n                                                label=\"Name\"\n                                                name=\"login\"\n                                                prepend-icon=\"person\"\n                                                type=\"text\"\n                                                v-model=\"name\"\n                                        />\n                                      <v-textarea label=\"Description\" dense v-model=\"description\"></v-textarea>\n                                        <v-file-input  label=\"Choose files\" v-model=\"img\" @change=\"change\" @click:clear=\"clearImg\"></v-file-input>\n                                        <span>Preview:</span>\n                                        <v-img v-if=\"url\" :src=\"url\" height=\"300\" width=\"1000\" />\n                                        <v-spacer></v-spacer>\n                                        <v-file-input\n                                                v-model=\"files\"\n                                                color=\"deep-purple accent-4\"\n                                                counter\n                                                label=\"File input\"\n                                                multiple\n                                                placeholder=\"Select your files\"\n                                                prepend-icon=\"mdi-paperclip\"\n                                                outlined\n                                                :show-size=\"1000\"\n                                        >\n                                            <template v-slot:selection=\"{ index, text }\">\n                                                <v-chip\n                                                        v-if=\"index < 2\"\n                                                        color=\"deep-purple accent-4\"\n                                                        dark\n                                                        label\n                                                        small\n                                                >\n                                                    {{ text }}\n                                                </v-chip>\n\n                                                <span\n                                                        v-else-if=\"index === 2\"\n                                                        class=\"overline grey--text text--darken-3 mx-2\"\n                                                >\n        +{{ files.length - 2 }} File(s)\n      </span>\n                                            </template>\n                                        </v-file-input>\n                                    </v-form>\n\n                                </v-card-text>\n                                <v-card-actions>\n\n                                    <v-btn color=\"primary\" @click=\"sendForm\" :disabled=\"!valid\">Upload</v-btn>\n\n                                </v-card-actions>\n                            </v-card>\n                        </v-col>\n                    </v-row>\n                </v-container>\n            </v-content>\n        </v-img>\n    </v-app>\n</template>\n\n<script>\n    /* eslint-disable no-console */\n    import {eventBus} from \"../main\";\n\n    export default {\n        name: \"FileLoadingPage\",\n        data : function () {\n            return{\n                name:'',\n                description:'',\n                nameRules:[\n                    (v) => !!v || 'Login is required',\n                ],\n                files:null,\n                img: null,\n                url: null,\n                valid:false,\n            }\n        },\n        methods:{\n            change:function(){\n                this.url = URL.createObjectURL(this.img)\n\n            },\n            onFileChange:function(e){\n                const url = e.target.files[0]\n                this.url = URL.createObjectURL(url)\n                alert(this.url)\n            },\n                setImg: function () {\n                    alert(this.img)\n            },\n            clearImg:function () {\n                this.url = null\n            },\n            sendForm:function () {\n                let formData = new FormData()\n\n                if(this.files){\n                    formData.append(\"title\", this.img)\n                    for (let file of this.files) {\n                        formData.append(\"files\", file, file.name);\n                    }\n                    formData.append(\"name\",this.name)\n                    formData.append(\"desc\",this.description)\n                    this.$http.post('http://localhost:9000/file/upload',formData,\n                        {\n                            headers: {\n                                'Content-Type': 'multipart/form-data',\n                                'Authorization': 'Bearer '+localStorage.getItem('token')\n                            }\n                        }).then( response => {\n                        console.log('Success!')\n                        console.log({response})\n                    }, err=>{\n                            err,\n                          err.json().then(msg => (eventBus.$emit('lout',msg.error)))\n                        this.$router.push({path:'/auth'})\n\n\n                    }).catch(error => {\n                        console.log(error)\n                    })\n                }\n                else {\n                    console.log('there are no files.')\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components"}]}